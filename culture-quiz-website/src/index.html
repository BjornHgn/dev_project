<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Culture Générale Quiz - Accueil</title>
    <link rel="stylesheet" href="css/styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link rel="preload" href="https://cdn.socket.io/4.5.4/socket.io.min.js" as="script">
</head>
<body>
    <div class="container">
        <header>
            <h1><i class="fas fa-brain"></i> Culture Générale Quiz</h1>
            <p>Testez vos connaissances sur l'histoire, la géographie, les sciences, les arts et bien plus encore !</p>
            <div class="auth-links">
                <a href="register.html" class="btn btn-outline">
                    <i class="fas fa-user-plus"></i>
                    Register
                </a>
                <a href="login.html" class="btn btn-outline">
                    <i class="fas fa-sign-in-alt"></i>
                    Login
                </a>
            </div>
        </header>
        
        <main>
            <div class="welcome-card">
                <div class="avatar-selection">
                    <h2>Choisissez votre avatar</h2>
                    <div class="avatar-options">
                        <div class="avatar-option selected" data-avatar="user">
                            <i class="fas fa-user"></i>
                        </div>
                        <div class="avatar-option" data-avatar="star">
                            <i class="fas fa-star"></i>
                        </div>
                        <div class="avatar-option" data-avatar="rocket">
                            <i class="fas fa-rocket"></i>
                        </div>
                        <div class="avatar-option" data-avatar="crown">
                            <i class="fas fa-crown"></i>
                        </div>
                    </div>
                </div>

            <!-- Add this to your HTML files like index.html, quiz.html etc. -->
            <!-- Friends Toggle Button -->
            <div class="friends-toggle" id="friends-toggle">
                <i class="fas fa-user-friends"></i>
                <div class="badge" id="friend-requests-count" style="display: none;">0</div>
            </div>

            <!-- Friends Container -->
            <div class="friends-container" id="friends-container">
                <div class="friends-header">
                    <h3>Friends</h3>
                    <button id="close-friends" class="close-btn"><i class="fas fa-times"></i></button>
                </div>
                
                <div class="friends-tabs">
                    <button data-tab="all" class="active">All</button>
                    <button data-tab="online">Online</button>
                    <button data-tab="requests">Requests <span id="tab-request-count" style="display: none;"></span></button>
                </div>
                
                <div class="friends-content">
                    <div id="friends-list" class="friends-list">
                        <!-- Friends will be dynamically loaded here -->
                        <div id="empty-friends" class="empty-friends">
                            <i class="fas fa-user-friends"></i>
                            <p>No friends yet. Add some friends to play together!</p>
                        </div>
                    </div>
                    
                    <button id="add-friend-btn" class="btn add-friend-btn">
                        <i class="fas fa-user-plus"></i> Add Friend
                    </button>
                </div>
            </div>

            <!-- Add Friend Modal -->
            <div id="add-friend-modal" class="modal add-friend-modal">
                <div class="add-friend-content">
                    <h3>Add a Friend</h3>
                    <span id="close-modal" class="close">&times;</span>
                    
                    <form id="add-friend-form" class="add-friend-form">
                        <div class="form-group">
                            <label for="friend-username">Username</label>
                            <input type="text" id="friend-username" placeholder="Enter friend's username" required>
                        </div>
                        <div class="form-actions">
                            <button type="submit" class="btn">Send Request</button>
                            <button type="button" id="cancel-add-friend" class="btn btn-cancel">Cancel</button>
                        </div>
                    </form>
                </div>
            </div>
                <form id="player-form">
                    <div class="form-group">
                        <label for="player-name">Entrez votre nom :</label>
                        <input type="text" id="player-name" name="player-name" required placeholder="Votre nom">
                    </div>
                    
                    <div class="form-group">
                        <label for="difficulty">Niveau de difficulté :</label>
                        <select id="difficulty" name="difficulty">
                            <option value="easy">Facile</option>
                            <option value="medium" selected>Moyen</option>
                            <option value="hard">Difficile</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label for="category">Catégorie :</label>
                        <select id="category" name="category">
                            <option value="all" selected>Toutes les catégories</option>
                            <option value="history">Histoire</option>
                            <option value="geography">Géographie</option>
                            <option value="science">Sciences</option>
                            <option value="arts">Arts</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label for="question-count">Nombre de questions :</label>
                        <div class="slider-container">
                            <input type="range" id="question-count" name="question-count" min="5" max="20" value="10" step="5">
                            <span id="question-count-value">10</span>
                        </div>
                    </div>
                    
                    <button type="submit" id="start-quiz" class="btn primary-btn">
                        <i class="fas fa-play"></i> Commencer le quiz
                    </button>
                </form>
                    <div class="join-game-container">
                        <h3>Join a friend's game</h3>
                        <form id="join-game-form" class="form-group">
                            <input type="text" id="session-code" placeholder="Enter session code" class="form-control">
                            <div class="spectate-option">
                                <input type="checkbox" id="join-as-spectator">
                                <label for="join-as-spectator">Join as spectator (watch only)</label>
                            </div>
                            <button type="submit" id="join-game-btn" class="btn btn-primary">Join Game</button>
                        </form>
                    </div>
            
            <div class="features">
                <div class="feature-card">
                    <i class="fas fa-trophy"></i>
                    <div class="feature-card-content">
                        <h3>Classement</h3>
                        <p>Comparez votre score avec d'autres joueurs et grimpez dans le classement</p>
                    </div>
                </div>
                <div class="feature-card">
                    <i class="fas fa-lightbulb"></i>
                    <div class="feature-card-content">
                        <h3>Indices</h3>
                        <p>Utilisez des indices pour vous aider à répondre aux questions difficiles</p>
                    </div>
                </div>
                <div class="feature-card">
                    <i class="fas fa-clock"></i>
                    <div class="feature-card-content">
                        <h3>Chronomètre</h3>
                        <p>Répondez rapidement pour gagner des points bonus et améliorer votre score</p>
                    </div>
                </div>
            </div>
        </main>
        
        <footer>
            <p>&copy; 2025 Culture Générale Quiz - Tous droits réservés</p>
        </footer>
    </div>
    <script src="https://cdn.socket.io/4.5.4/socket.io.min.js"></script>
    <script src="js/main.js"></script>
    <script src="js/friends.js"></script>
    <script>
        // Add test button functionality
        document.getElementById('test-notification').addEventListener('click', function() {
            if (typeof window.testGameInvitation === 'function') {
                window.testGameInvitation();
            } else {
                alert('Test function not available');
            }
        });
    </script>
</body>
</html>